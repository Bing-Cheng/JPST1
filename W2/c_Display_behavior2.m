close all;
clear;

beName =['..\W2\W5L-dateW.mat'];
load(beName);
rateT = dateW(:,2);
for j =1 :length(rateT)
rateTMW(j) = rateT{j}; 
end


dateW = {
%         '08-28-09'  21.74	5.26	75.00	15.79	0.00	12.50	22.22   10.00;  % 08-28, 1, too few trials
        '09-09-09'  39.51	45.16	18.75	44.12	61.54	33.33	55.56	31.25;  % 09-09, 2
        '09-10-09'  39.84	30.19	64.29	36.17	36.00	25.00	32.00	40.91;  % 09-10, 3
%         '09-11-09'  0       0       0       0       0       0       0       0    ;  % 09-11, 4,
         '09-16-09'  35.77	50.00	10.00	39.62	57.14	42.11	33.33   47.83;  % 09-16, 5, no channel 5
        '09-17-09'  43.31	66.67	27.50	31.67	73.91	61.76	20.59	46.15;  % 09-17, 6
        '09-18-09'  36.13	51.35	34.48	26.42	52.38	50.00	18.75	38.10;  % 09-18, 7
        '09-21-09'  41.98	63.64	41.38	25.86	68.18	59.09	25.00	26.92;  % 09-21, 8
        '09-22-09'  41.96	67.65	48.00	22.64	61.90	76.92	21.43	24.00;  % 09-22, 9
   %     '09-23-09'  38.86	55.77	50.00	22.89	65.22	48.28	13.64	33.33;  % 09-23, 10
  %      '09-24-09'  34.64	50.88	32.00	22.54	37.14	72.73	15.00	32.26;  % 09-24, 11
  %       '09-25-09'  44.25	56.41	55.00	31.48	76.92	46.15	31.03   32.00;  % 09-25, 12, only 4 and 5
 %        '09-28-09'  43.90	47.73	42.86	41.18	40.00	54.17	32.26   55.00;  % 09-28, 13, no chan 12
         '09-30-09'  52.08	66.10	60.00	35.00	75.76	53.85	24.24   48.15;  % 09-30, 14, no chan 5
         '10-05-09'  56.48	91.89	65.00	27.45	100.00	85.00	22.22   33.33;  % 10-05, 15, no chan 12
         '10-06-09'  41.84	92.31	52.17	10.20	92.86	91.67	12.00   8.33;	% 10-06, 16, no data
         '10-07-09'  55.28	91.30	52.50	34.67	91.30	91.30	32.35   36.59;  % 10-07, 17, no chan 12
        '10-08-09'  46.31	95.12	75.00	14.29	95.00	95.24	14.29	14.29;  % 10-08, 18
%        '10-12-09'  53.66	78.57	91.30	27.06	84.00	74.19	25.00	29.27;	% 10-12, 19
        '10-14-09'  61.61	85.53	75.68	40.54	90.00	80.56	31.15	52.00;	% 10-14, 20
         '10-15-09'  55.56	93.02	75.00	26.03	94.74	91.67	27.78   24.32;	% 10-15, 21, no chan 4, 11
         '10-22-09'  52.12	91.30	85.00	20.47	96.77	86.84	14.93   26.67;	% 10-22, 22, no data
 %       '10-23-09'  41.38	83.78	84.62	8.54	83.33	84.21	7.14	10.00;	% 10-23, 23
%        '10-26-09'  60.99	78.00	90.48	40.00	64.29	95.45	37.84	42.42;	% 10-26, 24
         '10-27-09'  59.84	97.62	86.96	21.05	94.74	100.00	32.00   12.50;	% 10-27, 25, no chan 12
        '10-28-09'  66.46	90.74	100.00	39.24	92.86	88.46	43.90	34.21;	% 10-28, 26
         '10-29-09'  57.69	90.57	96.00	23.08	100.00	83.87	15.91   32.35;	% 10-29, 27, no data
%        '10-30-09'  58.52	86.36	84.62	29.23	85.71	86.96	32.35	25.81;	% 10-30, 28
 %       '11-02-09'  64.66	78.26	70.59	49.06	86.36	70.83	46.67	52.17;	% 11-02, 29
  %      '11-03-09'  63.19	53.57	92.00	60.32	62.07	44.44	58.82	62.07;	% 11-03, 30
    %    '11-05-09'  74.63	74.00	78.57	73.21	85.71	65.52	66.67	80.77;	% 11-05, 31
    }
% beName =['..\A2\A5L-dateW.mat'];
% load(beName);
rateT = dateW(:,3);
for j =1 :length(rateT)
rateTMA(j) = rateT{j}; 
end


dateW = {
%         '06-22-10'	0.12195122	0.064516129	0.727272727 0           0.058823529	0.071428571	0           0;              % 06-22, 2          1
%         '06-23-10'	0.1875      0.025       0.214285714 0.423076923	0           0.047619048	0.454545455	0.4;            % 06-23, 4          2
%        '06-24-10'	0.228571429	0.113207547	0.588235294 0.228571429	0.153846154	0.074074074	0.086956522	0.5;            % 06-24, 5          3
 %        '06-25-10'	0.310077519	0.293103448	0.1         0.487804878	0.266666667	0.321428571	0.421052632	0.545454545;	% 06-25, 6          4
%        '06-28-10'	0.345070423	0.254237288	0.5         0.358490566	0.233333333	0.275862069	0.36        0.357142857;	% 06-28, 7          5
%        '06-29-10'	0.220930233	0.094594595	0.514285714	0.206349206	0.085714286	0.102564103	0.266666667	0.151515152;	% 06-29, 8          6
 %       '06-30-10'	0.3125      0.121495327	0.657894737	0.389473684	0.090909091	0.153846154	0.4375      0.340425532;    % 06-30, 9          7
        '07-01-10'	0.540178571	0.674418605	0.475       0.448979592	0.710526316	0.645833333	0.604651163	0.327272727;	% 07-01, 10         8
        '07-02-10'	0.567460317	0.898734177	0.609756098	0.356060606	0.888888889	0.906976744	0.464285714	0.276315789;	% 07-02, 11         9
        '07-06-10'	0.553633218	0.752688172	0.901960784	0.303448276	0.666666667	0.857142857	0.329113924	0.272727273;	% 07-06, 12         10
        '07-07-10'	0.58041958	0.8         0.916666667	0.337837838	0.863636364	0.739130435	0.260869565	0.405063291;	% 07-07, 13         11
        '07-08-10'	0.559183673	0.568421053	0.808510638	0.436893204	0.509433962	0.642857143	0.375       0.510638298;	% 07-08, 14         12
 %       '07-09-10'	0.721774194	0.862745098	0.765957447	0.555555556	0.882352941	0.843137255	0.470588235	0.645833333;	% 07-09, 15         13
        %10
        '07-12-10'	0.635820896	0.752136752	0.738461538	0.503267974	0.769230769	0.738461538	0.540540541	0.46835443;     % 07-12, 16         14
 %       '07-13-10'	0.783673469	0.847826087	0.857142857	0.692307692	0.869565217	0.826086957	0.642857143	0.75;           % 07-13, 17         15
%         '07-14-10'	0.744       0.769230769	0.911111111	0.643564356	0.711864407	0.844444444	0.625       0.666666667;	% 07-14, 18         16
%        '07-15-10'	0.7625      0.833333333	0.895833333	0.625       0.9         0.760869565	0.66        0.586956522;	% 07-15, 19         17
%         '07-16-10'	0.764227642	0.976470588	0.974358974	0.549180328	0.977272727	0.975609756	0.5         0.6;            % 07-16, 21         18
         '07-19-10'	0.741758242	0.861538462	0.944444444	0.555555556	0.925925926	0.815789474	0.43902439	0.675;          % 07-19, 21         18
        '07-20-10'	0.635714286	0.535714286	0.92        0.610169492	0.666666667	0.4375      0.558823529	0.68;           % 07-20, 21         18
        '07-21-10'	0.729591837	0.916666667	0.837209302	0.50617284	0.942857143	0.891891892	0.431818182	0.594594595;	% 07-21, 21         18
        '07-22-10'	0.794979079	0.888888889	0.952380952	0.654205607	0.931818182	0.847826087	0.589285714	0.725490196;	% 07-22, 21         18
        '07-23-10'	0.800904977	0.902439024	0.906976744	0.666666667	0.974358974	0.837209302	0.66        0.673913043;	% 07-23, 21         18
%        '07-26-10'  0.764705882	0.794871795	1           0.670103093	0.833333333	0.75        0.66        0.680851064;
        '07-27-10'  0.855072464	0.86746988	0.970588235	0.8         0.906976744	0.825       0.711111111	0.888888889;
        '07-28-10'  0.801886792	0.759036145	0.860465116	0.813953488	0.760869565	0.756756757	0.818181818	0.80952381;
        '07-29-10'  0.803921569	0.844155844	0.844444444	0.743902439	0.894736842	0.794871795	0.658536585	0.829268293;
         '07-30-10'  0.87        0.888888889	0.947368421	0.814814815	0.875       0.902439024	0.804878049	0.825;
%         '08-02-10'  0.764367816	0.791666667	0.818181818	0.710144928	0.8         0.783783784	0.710526316	0.709677419;
         '08-03-10'  0.833333333	0.935064935	0.947368421	0.696629213	0.904761905	0.971428571	0.652173913	0.744186047;
    %    '08-04-10'  0.719387755	0.826666667	0.962962963	0.563829787	0.833333333	0.818181818	0.586956522	0.541666667;
   %     '08-05-10'  0.663043478	0.726027397	0.882352941	0.506493506	0.794117647	0.666666667	0.529411765	0.488372093;
        %20
  %      '08-06-10'  0.532258065	0.787878788	0.961538462	0.234042553	0.852941176	0.71875     0.348837209 0.137254902;
 %       '08-09-10'  0.765182186	0.924731183	0.972972973	0.572649573	0.977777778	0.875       0.636363636	0.516129032;
%        '08-10-10'  0.513227513	0.6         0.740740741	0.353658537	0.558139535	0.648648649	0.4         0.30952381;
         '08-11-10'  0.843478261	0.904761905	1           0.740740741	0.891304348	0.921052632	0.705882353	0.771929825;
%       '08-12-10'  0.711267606	0.785714286	0.782608696	0.619047619	0.806451613	0.76        0.678571429	0.571428571;
%        '08-13-10'  0.62962963	0.779661017	0.838709677	0.416666667	0.892857143	0.677419355	0.551724138	0.325581395;
        };
% beName =['..\L2\L5L-dateW.mat'];
% load(beName);
rateT = dateW(:,2);
for j =1 :length(rateT)
rateTML(j) = rateT{j}*100; 
end


dateW = {'04-12-11','04-13-11','04-14-11','04-15-11','04-18-11','04-29-11','05-02-11','05-03-11','05-04-11','05-05-11','05-10-11','05-11-11',...
'05-16-11','05-17-11','05-18-11','05-19-11','05-20-11','05-23-11','05-24-11','05-25-11','05-26-11','05-31-11','06-01-11','06-02-11','06-03-11',...
'06-06-11','06-07-11','06-08-11','06-09-11','06-10-11','06-13-11'};
eventDir = 'D:\bcheng\work\data1\B\B5L_event\'; 
rat = 'B5L';
dateN= length(dateW);
for i = 1 : dateN
date1 = dateW{i};
date2=[date1(1:2),date1(4:5),date1(7:8)];
fileNameLoad = [eventDir rat '-' date2 '-5Light.mat'];
load(fileNameLoad);
brateT(i) = ExpData.behaviour.AC(1);
end
% beName =['..\B2\B5L-dateW.mat'];
% load(beName);
rateTMB = brateT*100; 

% beName =['..\code_event_tag_for_cue_3chs\Q5L-dateW.mat'];
% load(beName);
% rateT = dateW(:,2);
% for j =1 :length(rateT)
% rateTMQ(j) = rateT{j}; 
% end




reW = [1:5,14 19 21 22 30];
rateTMW(reW) = [];
reB = [1:3,10 19 20 22 23 28 31];
rateTMB(reB) = [];
h = figure;
lWidth = 2;
lWidth1 = 7;
subplot(2,2,1);
hold on;
   plot(rateTMW,'r','linewidth',lWidth);
   plot(11.5, (rateTMW(11)+rateTMW(12))/2,'ro','linewidth',lWidth1);
%   plot(32, rateTMW(32),'rs','linewidth',lWidth,'MarkerSize',10);
   legend('W09','location','southeast');
   axis([0 length(rateTMW) 0 100]);
   xlabel('Recording day');
   ylabel('Behavioral accuracy');
   
 subplot(2,2,2);
 hold on;
   plot(rateTMA,'g','linewidth',lWidth);
   plot(8.5, (rateTMA(8)+rateTMA(9))/2,'go','linewidth',lWidth1);
 %  plot(15, rateTMA(15),'gs','linewidth',lWidth,'MarkerSize',10);
   legend('A09','location','southeast');
   axis([0 length(rateTMA) 0 100]);
   xlabel('Recording day');
   ylabel('Behavioral accuracy');
   
 subplot(2,2,3);
 hold on;
   plot(rateTML,'b','linewidth',lWidth);
   plot(10.5,(rateTML(10)+rateTML(11))/2,'bo','linewidth',lWidth1);
%   plot(22,rateTML(22),'bs','linewidth',lWidth,'MarkerSize',10);
   legend('L10','location','southeast');
   axis([0 length(rateTML) 0 100]);
   xlabel('Recording day');
   ylabel('Behavioral accuracy');
 
 subplot(2,2,4);
   hold on;
   plot(rateTMB,'m','linewidth',lWidth);
   plot(13.5,(rateTMB(13)+rateTMB(14))/2,'mo','linewidth',lWidth1);
%   plot(13,rateTMB(13),'ms','linewidth',lWidth,'MarkerSize',10);
   legend('B10','location','southeast');
   axis([0 length(rateTMB) 0 100]);
   xlabel('Recording day');
   ylabel('Behavioral accuracy');
   
   
   titleName = ['Behavior Correction Rate'];
  % title(titleName);
   saveas(h,titleName,'jpg');
   

   
    